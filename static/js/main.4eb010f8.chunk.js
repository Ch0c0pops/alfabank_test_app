(this.webpackJsonpalfabank=this.webpackJsonpalfabank||[]).push([[0],{126:function(t,e,n){"use strict";n.r(e);var a,r=n(0),c=n.n(r),i=n(44),s=n.n(i),o=(n(92),n(93),n(159)),u=n(163),l=n(164),d=n(165),f=n(160),j=n(166),b=n(38),O=n(71),v=n(72),p=n(12),g=n(41),m=n.n(g),_=n(58);!function(t){t.GET_ITEMS="GET_ITEMS",t.SHOW_FAVS="SHOW_FAVS",t.ADD_TO_FAVS="ADD_TO_FAVS",t.GET_FAVS="GET_FAVS",t.SET_CURRENT_PAGE="SET_CURRENT_PAGE",t.GET_FAV_ITEMS="GET_FAV_ITEMS",t.SET_LOADING="SET_LOADING"}(a||(a={}));var h=n(73),x=n.n(h).a.create({baseURL:"https://rickandmortyapi.com/api"}),S={getItems:function(t){return x.get("/character/?page=".concat(t))},getFavouriteItems:function(t){return x.get("/character/".concat(t))}},E=function(t){return{type:a.SHOW_FAVS,showFavs:t}},T=function(t){return{type:a.ADD_TO_FAVS,id:t}},I=function(t){return{type:a.SET_LOADING,isLoading:t}},F={items:[],favItems:[],showFavs:!1,currentPage:1,info:null,isLoading:!1},A=n(22),N=Object(b.combineReducers)({main:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case a.GET_ITEMS:return Object(p.a)(Object(p.a)({},t),{},{items:e.data.results,info:e.data.info});case a.GET_FAV_ITEMS:return Object(p.a)(Object(p.a)({},t),{},{items:e.data});case a.SHOW_FAVS:return Object(p.a)(Object(p.a)({},t),{},{showFavs:e.showFavs});case a.ADD_TO_FAVS:return Object(p.a)(Object(p.a)({},t),{},{favItems:e.id});case a.GET_FAVS:return Object(p.a)(Object(p.a)({},t),{},{favItems:JSON.parse(localStorage.getItem("favs"))});case a.SET_CURRENT_PAGE:return Object(p.a)(Object(p.a)({},t),{},{currentPage:e.page});case a.SET_LOADING:return Object(p.a)(Object(p.a)({},t),{},{isLoading:e.isLoading});default:return t}}}),w=A.c,G=Object(b.createStore)(N,Object(v.composeWithDevTools)(Object(b.applyMiddleware)(O.a))),L=n(1),k=function(){var t=Object(A.b)(),e=w((function(t){return t.main.showFavs}));return Object(L.jsx)("div",{children:Object(L.jsx)(u.a,{sx:{flexGrow:1},children:Object(L.jsx)(o.a,{position:"static",children:Object(L.jsxs)(l.a,{sx:{background:"darkred"},children:[Object(L.jsx)(d.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"\u0410\u043b\u044c\u0444\u0430 \u0431\u0430\u043d\u043a | \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0435"}),Object(L.jsx)(j.a,{label:e?"\u0432\u0441\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438":"\u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435",control:Object(L.jsx)(f.a,{color:"warning",checked:e,onChange:function(){t(E(!e))},"aria-label":"switch"})})]})})})})},y=n(60),V=n.n(y),D=n(162),P=n(167),C=n(61),R=n.n(C),M=function(t){var e=Object(A.b)(),n=w((function(t){return t.main.favItems}));return Object(L.jsxs)(D.a,{children:[Object(L.jsx)("img",{src:"".concat(t.image,"?w=248&fit=crop&auto=format"),srcSet:"".concat(t.image,"?w=248&fit=crop&auto=format&dpr=2 2x"),alt:"img".concat(t.id),loading:"lazy"}),Object(L.jsx)(P.a,{title:t.name,subtitle:"".concat(t.gender," / ").concat(t.species," / ").concat(t.status," "),actionIcon:Object(p.a)({},n.includes(t.id)?Object(L.jsx)(R.a,{sx:{color:"red"},fontSize:"large",onClick:function(n){return function(t){var n=localStorage.getItem("favs");if(n){var a=JSON.parse(n).filter((function(e){return e!==t}));localStorage.setItem("favs",JSON.stringify(a)),e(T(a))}}(t.id)}}):Object(L.jsx)(R.a,{color:"disabled",fontSize:"large",onClick:function(n){return function(t){var n=localStorage.getItem("favs");if(n){var a=JSON.parse(n);a.push(t),localStorage.setItem("favs",JSON.stringify(a)),e(T(a))}else{var r=[t];localStorage.setItem("favs",JSON.stringify(r)),e(T(r))}}(t.id)}}))})]},t.image)},J=function(){var t=w((function(t){return t.main.items})),e=w((function(t){return t.main.favItems})),n=w((function(t){return t.main.showFavs})),c=w((function(t){return t.main.currentPage})),i=Object(A.b)();return Object(r.useEffect)((function(){n?i(function(){var t=Object(_.a)(m.a.mark((function t(e){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e(I(!0)),null==(n=localStorage.getItem("favs"))){t.next=8;break}return t.next=6,S.getFavouriteItems(JSON.parse(n));case 6:r=t.sent,e((c=r.data,{type:a.GET_FAV_ITEMS,data:c}));case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:return t.prev=13,e(I(!1)),t.finish(13);case 16:case"end":return t.stop()}var c}),t,null,[[0,10,13,16]])})));return function(e){return t.apply(this,arguments)}}()):(i(function(t){return function(){var e=Object(_.a)(m.a.mark((function e(n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(I(!0)),n(E(!1)),e.next=5,S.getItems(t);case 5:null!==(r=e.sent)&&n((c=r.data,{type:a.GET_ITEMS,data:c})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0);case 12:return e.prev=12,n(I(!1)),e.finish(12);case 15:case"end":return e.stop()}var c}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}()}(c)),localStorage.getItem("favs")&&i({type:a.GET_FAVS}))}),[e.length,c,n,i]),n&&0===e.length?Object(L.jsx)("div",{className:V.a.itemsList,children:Object(L.jsx)("h1",{children:"\u041a\u0430\u0440\u0442\u043e\u0447\u0435\u043a \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"})}):Object(L.jsx)("div",{className:V.a.itemsList,children:t.length>1?t.map((function(t){return Object(r.createElement)(M,Object(p.a)(Object(p.a)({},t),{},{key:t.id}))})):Object(L.jsx)(M,Object(p.a)({},t))})},W=n(168),B=n(158),U=n(156),z=n(79),H=n.n(z);function Q(){var t=Object(A.b)(),e=w((function(t){return t.main.currentPage})),n=w((function(t){return t.main.info})),r=function(r){var c,i=Number(r.innerText);r&&"LastPageIcon"===r.dataset.testid&&(i=n.pages),r&&"FirstPageIcon"===r.dataset.testid&&(i=1),r&&"NavigateNextIcon"===r.dataset.testid&&(i=e+1),r&&"NavigateBeforeIcon"===r.dataset.testid&&(i=e-1),t((c=i,{type:a.SET_CURRENT_PAGE,page:c}))};return Object(L.jsx)("div",{className:H.a.pagination,children:Object(L.jsx)(U.a,{spacing:2,sx:{mx:"auto",width:450},children:Object(L.jsx)(B.a,{count:(null===n||void 0===n?void 0:n.pages)||10,color:"standard",variant:"outlined",shape:"rounded",showFirstButton:!0,showLastButton:!0,onClick:function(t){var e=t.target;r(e)}})})})}var q=n(80),K=n.n(q),X=function(){return Object(L.jsxs)("div",{className:K.a.ldsEllipsis,children:[Object(L.jsx)("div",{}),Object(L.jsx)("div",{}),Object(L.jsx)("div",{}),Object(L.jsx)("div",{})]})};var Y=function(){var t=w((function(t){return t.main.showFavs})),e=w((function(t){return t.main.isLoading}));return Object(L.jsxs)(W.a,{maxWidth:"xl",children:[Object(L.jsx)(k,{}),!t&&Object(L.jsx)(Q,{}),e&&Object(L.jsx)(X,{}),Object(L.jsx)(J,{})]})},Z=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,169)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),c(t),i(t)}))};s.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(A.a,{store:G,children:Object(L.jsx)(Y,{})})}),document.getElementById("root")),Z()},60:function(t,e,n){t.exports={itemsList:"itemsList_itemsList__1SekA",itemsList__item:"itemsList_itemsList__item__3cNxE"}},79:function(t,e,n){t.exports={pagination:"pagination_pagination__2RPFz"}},80:function(t,e,n){t.exports={ldsEllipsis:"loader_ldsEllipsis__3SLsr","lds-ellipsis1":"loader_lds-ellipsis1__2VNb_","lds-ellipsis2":"loader_lds-ellipsis2__bf1QV","lds-ellipsis3":"loader_lds-ellipsis3__1GuT4"}},92:function(t,e,n){},93:function(t,e,n){}},[[126,1,2]]]);
//# sourceMappingURL=main.4eb010f8.chunk.js.map